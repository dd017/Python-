import tweepy
import time

# Set up your Twitter API credentials
API_KEY = 'YOUR_API_KEY'
API_SECRET_KEY = 'YOUR_API_SECRET_KEY'
ACCESS_TOKEN = 'YOUR_ACCESS_TOKEN'
ACCESS_TOKEN_SECRET = 'YOUR_ACCESS_TOKEN_SECRET'

# Authenticate with the Twitter API
auth = tweepy.OAuthHandler(API_KEY, API_SECRET_KEY)
auth.set_access_token(ACCESS_TOKEN, ACCESS_TOKEN_SECRET)
api = tweepy.API(auth, wait_on_rate_limit=True)

def post_tweet(content):
    """Post a tweet with the given content."""
    try:
        api.update_status(content)
        print(f"Posted tweet: {content}")
    except tweepy.TweepError as e:
        print(f"Error posting tweet: {e}")

def search_and_like(keyword, count=10):
    """Search for tweets containing the keyword and like them."""
    try:
        for tweet in tweepy.Cursor(api.search_tweets, q=keyword, lang='en').items(count):
            if not tweet.favorited:
                tweet.favorite()
                print(f"Liked tweet by {tweet.user.screen_name}: {tweet.text}")
    except tweepy.TweepError as e:
        print(f"Error liking tweets: {e}")

def follow_users(keyword, count=10):
    """Follow users who have tweeted about the keyword."""
    try:
        for tweet in tweepy.Cursor(api.search_tweets, q=keyword, lang='en').items(count):
            if not tweet.user.following:
                tweet.user.follow()
                print(f"Followed user: {tweet.user.screen_name}")
    except tweepy.TweepError as e:
        print(f"Error following users: {e}")

def main():
    # Example usage of the bot features
    post_tweet("Hello, Twitter! This is my Twitter bot.")
    time.sleep(2)  # Pause between actions to avoid rate limits
    
    search_and_like("Python", count=5)
    time.sleep(2)
    
    follow_users("Python", count=5)

if __name__ == "__main__":
    main()
